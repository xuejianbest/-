yum -y groupinstall "Development tools"

yum -y install bzip2-devel #bz2
yum -y install zlib-devel #zlib
yum -y install readline-devel #readline
yum -y install sqlite-devel #_sqlite3
yum -y install tk-devel #_tkinter
yum -y install ncurses-devel #_curses _curses_panel
yum -y install db4-devel #_bsddb dbm
yum -y install gdbm-devel #gdbm
yum -y install openssl-devel #_ssl
yum -y install libpng-devel
yum -y install xz-devel #_lzma
#bsddb185、imageop、sunaudiodev、dl这几个模块已经弃用，可以忽略。


./configure --prefix=/opt/python3.6.6
#如果您希望发布版本并且所有稳定优化都处于活动状态（PGO等），
#请运行./configure --enable-optimizations
#开启后编译会进行很多测试，速度慢很多

make
make install


cp ~/.bash_profile ~/.bash_profile.bak
echo 'export PATH=$PATH:/opt/python3.6.6/bin' >> ~/.bash_profile
. ~/.bash_profile

pip3 install --upgrade pip

https://files.pythonhosted.org/packages/91/d6/a00593677670d64c8047e33eda962d60e29fc53a0e3b8e6f7e84580577f0/cx_Oracle-8.0.0-cp37-cp37m-manylinux1_x86_64.whl

https://github.com/mozilla/geckodriver/releases/download/v0.27.0/geckodriver-v0.27.0-linux64.tar.gz

pip3 install selenium beautifulsoup4 lxml # ChromeDriver
#!/usr/bin/env python
#coding=utf-8
from selenium import webdriver
from selenium.webdriver.firefox.options import Options
from bs4 import BeautifulSoup
import time

url = 'http://www.qq.com/'
options = Options()
options.headless = True

#如果设置代理
"""
profile = webdriver.FirefoxProfile()
profile.set_preference('network.proxy.type', 1)
profile.set_preference('network.proxy.http', "127.0.0.1")
profile.set_preference('network.proxy.http_port', 1080)
profile.set_preference('network.proxy.socks', "127.0.0.1")
profile.set_preference('network.proxy.socks_port', 1080)
profile.set_preference('network.proxy.ssl', "127.0.0.1")
profile.set_preference('network.proxy.ssl_port', 1080)
profile.set_preference('network.proxy.ftp', "127.0.0.1")
profile.set_preference('network.proxy.ftp_port', 1080)

#profile.set_preference("network.proxy.share_proxy_settings", True)
#profile.update_preferences()
"""

#options.binary_location = "D:/Program Files/Mozilla Firefox/firefox.exe"
#driver = webdriver.Firefox(executable_path='geckodriver.exe', firefox_profile=profile, firefox_options=options)

#options.binary_location = "/root/firefox-linux/bin/firefox"
driver = webdriver.Firefox(executable_path='/root/geckodriver', firefox_profile=profile, firefox_options=options)
driver.get(url)
html = driver.page_source
print(html)
driver.quit()


